# Ctrl-Alt-Play Panel - Production Environment Template
# Copy this file to .env.production and customize for your deployment

# ============================================================================
# DEPLOYMENT CONFIGURATION
# ============================================================================

# Deployment Environment
NODE_ENV=production
DEPLOYMENT_ENV=production
HOST=0.0.0.0

# ============================================================================
# PORT CONFIGURATION (Flexible & Auto-Detecting)
# ============================================================================

# Primary application port (auto-detects if occupied)
PORT=3000

# Frontend port (if running separately)
FRONTEND_PORT=3001

# Agent communication port (WebSocket)
AGENT_PORT=8080

# Auto-detect available ports to avoid conflicts
AUTO_PORT_DETECTION=true
PORT_RANGE_START=3000
PORT_RANGE_END=3100

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL Database URL
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://ctrlaltplay:CHANGE_THIS_PASSWORD@localhost:5432/ctrlaltplay

# Database pool settings
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================

# Redis URL for caching and sessions
REDIS_URL=redis://localhost:6379

# Redis settings
REDIS_MAX_MEMORY=256mb
REDIS_POLICY=allkeys-lru

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# JWT Secret (CHANGE THIS - Generate with: openssl rand -base64 64)
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_64_CHARACTERS_LONG

# Agent API Secret (CHANGE THIS - Generate with: openssl rand -base64 32)
AGENT_SECRET=CHANGE_THIS_TO_A_SECURE_AGENT_SECRET

# Session configuration
SESSION_TIMEOUT=86400
MAX_LOGIN_ATTEMPTS=5

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================

# Steam Workshop API
STEAM_API_KEY=your_steam_api_key_here
STEAM_API_ENABLED=true

# Marketplace Integration
MARKETPLACE_URL=https://marketplace.ctrlaltplay.com
MARKETPLACE_API_KEY=your_marketplace_key
MARKETPLACE_ENABLED=true

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log rotation
LOG_MAX_SIZE=100m
LOG_MAX_FILES=10

# Monitoring
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Node.js memory settings (adjust based on server specs)
NODE_OPTIONS=--max-old-space-size=2048

# Request limits
REQUEST_TIMEOUT=30000
BODY_LIMIT=50mb
UPLOAD_LIMIT=500mb

# Connection limits
MAX_CONNECTIONS=1000
KEEP_ALIVE_TIMEOUT=65000

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable/disable features for this deployment
PLUGIN_SYSTEM_ENABLED=true
WORKSHOP_INTEGRATION_ENABLED=true
ANALYTICS_ENABLED=true
BACKUP_SERVICE_ENABLED=true

# ============================================================================
# BACKUP & MAINTENANCE
# ============================================================================

# Backup settings
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_DESTINATION=/backups

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System maintenance in progress. Please try again later."

# ============================================================================
# DEPLOYMENT-SPECIFIC OVERRIDES
# ============================================================================

# Override any settings above for your specific deployment
# Add custom environment variables below this line